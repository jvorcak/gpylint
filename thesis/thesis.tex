\documentclass[11pt,oneside,final]{fithesis2}

\usepackage[utf8]{inputenc}
\usepackage[slovak]{babel}
\usepackage[T1]{fontenc} 
\usepackage[plainpages=false,pdfpagelabels,unicode]{hyperref}
\usepackage{tabularx}
\usepackage{pifont}
\usepackage{graphicx}
\usepackage{float}
\usepackage{listings}
\usepackage{varioref}
\usepackage{multirow}
\usepackage{listing}
\usepackage[protrusion=true, expansion, kerning]{microtype}
\lstset{basicstyle=\ttfamily, breaklines=true, breakatwhitespace=false}

\thesistitle{Nástroje na analýzu kódu v jazyku Python a vizualizácia ich výstupu}
\thesissubtitle{Bakalárska práca}  
\thesisstudent{Ján Vorčák}
\thesiswoman{false}
\thesisfaculty{fi}  
\thesisyear{2012}
\thesisadvisor{Mgr. Marek Grác}
\thesislang{sk}
\emergencystretch4dd
\begin{document}
 \widowpenalty10000
 \clubpenalty10000
 \hfuzz2mm
 \FrontMatter  
 \ThesisTitlePage

\begin{ThesisDeclaration}
\DeclarationText
\AdvisorName
\end{ThesisDeclaration}

\begin{ThesisThanks}
\end{ThesisThanks}

\begin{ThesisAbstract}
\end{ThesisAbstract}

\begin{ThesisKeyWords}
\end{ThesisKeyWords}



\MainMatter  
\tableofcontents

\chapter{Úvod}

	Pri vývoji aplikácií musíme klásť dôraz nielen na samotné programovanie, ale najmä na analýzu a návrh systému, dôkladné otestovanie ale aj spätnú analýzu samotného kódu. Z tohto dôvodu vzniká pre takmer každý programovací či značkovací jazyk množstvo nástrojov, ktoré nám pomáhajú automaticky objaviť potencionálne chyby či porušenie konvencií v zdrojových kódoch. Často krát sú tieto nástroje síce efektívne a ľahko konfigurovateľné, no najmä výstupom nie príliš užívateľsky prívetivé. Asi najpoužívanejším nástrojom na analýzu kódu v jazyku Python je konzolová utilita Pylint. Pokiaľ si chceme vďaka tomuto programu vytvoriť obraz o väčšom projekte nestačí nám iba textový výstup, no musíme tieto dáta automaticky spracovať.
	
	Cieľom tejto bakalárskej práce je analyzovať nástroje na analýzu a vizualizáciu Python kódu ako aj vlastnosti jazyka ako je napríklad introspekcia, ktoré nám túto analýzu umožnujú. Z dôvodu vizualizácie je nutné taktiež naštudovať základy modelovania hierarchických štruktúr v UML. Výstupom bakalárskej práce je nástroj, ktorý poskytuje funkcionalitu, ktorú v existujúcich nástrojoch nenájdeme. Nástroj teda zjednoduší orientáciu najmä vo väčšom projekte pomocou vizualizácie dát najmä za pomoci vygenerovania interaktívnych UML diagramov. Program bude taktiež dopĺňať funkcionalitu, ktorú nám klasický program Pylint neumožnuje ako je napríklad filtrácia falošných poplachov. 

	Práca pozostáva z piatich kapitol. V druhej kapitole si predstavíme jazyk Python a jeho vlastnosti, neskôr rozanalyzujeme existujúce nástroje na analýzu kódu v jazyku Python a ich nedostatky. Pred implementačnou časťou si predstavíme knižnice, ktoré nám neskôr pomôžu pri implementácií nástroja ako je napríklad knižnica Gaphas na vykresľovanie grafiky v GTK programoch alebo samotný Pylint. Nasledovať bude kapitola o návrhu nástroja a samotná implementácia. Nakoniec zhodnotíme, či implementovaný nástroj spĺňa určené požiadavky či už po stránke funkcionality alebo škálovateľnosti a navrhneme zmeny na jeho zlepšenie.
 


%
%Nástroje pro analýzu kódu v Pythonu a vizualizace jejich výstupu.
%
%- Nastudujte možnosti introspekce v jazyce Python
%- Seznamte se s existujícími nástroji pro analýzu kódu v tomto programovacím jazyce
%- Seznamte se se základy modelování hierarchických struktur v UML
%- Vyberte si jeden z projektů pro analýzu kódu a vytvořte aplikaci, která bude schopná ukázat informaci o pozici nalezené chyby v rámci hierarchie modulů, tříd, funkcí a ve zdrojovém kódu.
%- Volitelně můžete implementovat například filtraci falešných poplachů
%

\chapter{O jazyku Python}

	\section{Čo je to Python?}
	Python je vysoko úrovňový, objektovo orientovaný dynamický jazyk, ktorý vytvoril holandský programátor Guido van Rossum ako následníka jazyka ABC.
Vyznačuje sa prehľadnou syntaxou, jednoduchosťou a modulárnosťou. Python podporuje viacero programátorských paradigmat, najmä objektovo orientované, imperatívne a čiastočne aj funkcionálne paradigma.

Existuje viacero implementácií jazka Python. Mezdi najznámejšie patria:
\begin{list}{•}{}
\item CPython
\item Jython
\item Python pre .NET
\item IronPython
\item PyPy
\end{list}

Najpožívanejšou a najpodporovanejšou je ale CPython. Každá z implementácií sa môže líšiť špecifickými informáciami mimo štandardnej Python dokumentácie.
Zdrojové kódy sú preložené do byte kódu a zvyčajne uložené v .pyc alebo .pyo súboroch, ktoré sú neskôr spúštané virtuálnou

	V štandardnej knižnici je dostupné množstvo datových typov ako napríklad reálne a komplexné čísla, celé čísla s neobmedzenou dĺžkou, znakové reťazce, zoznamy a slovníky. Datové typy su silno a dynamicky typované. Použitie nekompatibilného typu spôsobí vyvolanie výnimky. Python podporuje objektovo orientované programovanie vrátane viacnásobnej dedičnosti. Kód je sústredený do modulov a balíkov s možnosťou importovať špecifický modul, triedu, funkciu alebo iný objekt. Za účelom ošetrenia chýb Python podporuje vyvolávanie a odchytávanie výnimiek. Automatická správa pamäti nahrádza nutnosť manuálne alokovať a uvoľnovať pamäť v kóde.


	\section{Introspekcia v jazyku Python}
		Introspekcia je schopnosť preskúmať daný objekt a rozhodnúť o jeho identite, vlastnostiach a schopnostiach. Jazyk Python podporuje rozsiahlu introspekciu objektov. Medzi hlavné informácie, ktoré potrebujeme o objektoch v jazyku Python zisťiť patrí ich meno, typ, identita, vlastnosti, schopnosti a ich pôvod. Jazyk Python ponúka množstvo nástrojov, ktoré nám tieto vlastnosti umožnujú zisťiť. Môžeme ich rozdeliť do dvoch hlavných skupín. V prvej skupine sú funkcie či už zo štandardnej knižnice alebo z pomocných modulov akým je napríklad modul inspect, do druhej skupiny radíme atribúty objektov, ktoré priamo v objekte uchovávajú užitocné informácie.
		
\begin{list}{•}{}
		\item 
			Funkcia dir() je jedným z hlavných nástrojov introspekcie v jazyku Python a vracia zotriedený zoznam mien atribútov objektu, ktorý bol uvedený ako jej argument. Funkcia je súčasťou štandardnej knižnice, takže nemusíme importovať žiaden modul pre jej použitie. Na výpis funkcií zo štandardnej knižnice môžeme teda využiť samotnú funkciu dir().
			

\begin{lstlisting}[language=python]
In [1]: print dir(__builtin__)[-10:]
['str', 'sum', 'super', 'tuple', 'type', 'unichr', 'unicode', 'vars', 'xrange', 'zip']
\end{lstlisting}

			 V prípade, že je funkcia dir() použitá bez argumentov vracia zoznam mien, ktoré sú momentálne definované.

\begin{lstlisting}[language=python]
In [2]: print dir()
['In', 'Out', '_', '__', '___', '__builtin__', '__builtins__', '__name__', '_dh', '_i', '_i1', '_i2', '_ih', '_ii', '_iii', '_oh', '_sh', 'exit', 'get_ipython', 'help', 'quit']

\end{lstlisting}
	

		\item 
			Atribút \_\_doc\_\_ obsahuje komentáre, ktoré popisujú objekt. V prípade, že prvý v module, triede alebo v metóde je znakový reťazec, je automatický považovaný za \_\_doc\_\_ atribút. V opačnom prípade sa jeho hodnota nastaví na None. Hodnoty \_\_doc\_\_ sa z dôvodu kompaktnosti nevkladajú do byte kódu.
			
\begin{lstlisting}[language=python]
In [3]: print __doc__.__doc__
str(object) -> string

Return a nice string representation of the object.
If the argument is a string, the return value is the same object.
\end{lstlisting}

		\item 
			Atribút \_\_name\_\_ obsahuje názov objektu odvodený z jeho typu. Niektoré objekty, ako napríklad objekty typu string tento atribút neobsahujú. Tento atribút obsahujú napríklad moduly. V prípade, že spúštame script priamo pomocou Python interpretu je atribút \_\_name\_\_ nastavený na '\_\_main\_\_' nakoľko Python interpreter je považovaný za hlavný modul. Tak isto v prípade, že Python skript spúštame z príkazového riadku. Je teda často používaný na rozpoznanie či daný modul len importujeme alebo priamo spúštame.
	
\begin{lstlisting}[language=python]		
In [4]: def my_function():
   ....:     pass
   ....: 

In [5]: my_function.__name__
Out[5]: 'my_function'

In [6]: __name__
Out[6]: '__main__'
\end{lstlisting}

		\item 
		
		Funkcia type() zo štandardnej knižnice vracia typ jej argumentu. Ten vracia v podobe typového objektu, ktorý môže byť porovnávaný s typmi definovanými v module types.

\begin{lstlisting}[language=python]	
In [7]: type(my_function)
Out[7]: function

In [8]: type(1)
Out[8]: int
\end{lstlisting}


		\item 
		
		Funkcia id() vracia unikátnu identitu objektu. Táto funkcia je užitočná nakoľko viacero premenných môže odkazovať na rovnaký objekt. Funkcia id() konkrétne vracia pamäťovú adresu objektu.

\begin{lstlisting}[language=python]	
In [9]: id('string')
Out[9]: 3078023712L

In [10]: id(id)
Out[10]: 3078187660L
\end{lstlisting}

		\item Funkcie hasattr() a getattr() -
		V prípade, že je potrebné zistiť prítomnosť alebo hodnotu atribútu štandardná knižnica ponúka funkcie hasattr() a getattr().

\begin{lstlisting}[language=python]	
In [11]: hasattr(id, '__name__')
Out[11]: True

In [12]: getattr(id, '__name__')
Out[12]: 'id'
\end{lstlisting}		

		\item Funkcia callable() -
		V niektorých prípadoch môžu objekty slúžiť na vyvolanie určitého druhu udalosti. Pomocou funkcie callable() sa dá overiť, či je daný objekt spustiteľný.

\begin{lstlisting}[language=python]	
In [13]: callable(id)
Out[13]: True

In [14]: callable(1)
Out[14]: False
\end{lstlisting}			


		\item Funkcie isinstance() a issubclass() - 
		Funkcia isinstance() vracia hodnotu v závislosti na tom, či je objekt inštanciou danej triedy. Funkcia vracia True aj v prípade, že je objekt inštanciou jej predka.
		
		Funkcia issubclass() vracia True v prípade, že objekt reprezentujúci triedu je podtriedou druhého argumentu.

\begin{lstlisting}[language=python]	
class Person(object):
    pass
class Student(Person):
    pass
p=Person()
s=Student()

In [15]: isinstance(s, Student)
Out[15]: True

In [16]: isinstance(s, Person)
Out[16]: True

In [17]: issubclass(Student, Person)
Out[17]: True
\end{lstlisting}		

\end{list}


\chapter{Nástroje na analýzu kódu pre jazyk Python}
	\section{Nástroje analýzu kódu Python projektu}	


\subsection{PEP8}
	Ide o~nástroj, ktorý vyvíja Johann C. Rocholl. Tento nástroj slúži na otestovanie kódu Python podľa konvencií definovaných v~PEP 8~\cite{pep8}. Je to konzolový program, ktorý pomáha zvyšovať prehľadnosť a lepšiu štruktúru kódu. 
	
	Program PEP8 umožnuje programátorovi pomocou rôznych prepínačov ovládať analyzátor. V~predvolenom móde vypíše program každú chybu len raz, čo je pre analýzu rozsiahlejšieho projektu nevhodné. Voľba \texttt{–repeat} vypíše každú chybu bez ohľadu na to, či sa už v~kóde vyskytuje viackrát alebo nie. Voľba \texttt{–filename=patterns} obmedzuje spracovávané súbory len na tie, ktoré vyhovujú zadanému regulárnemu výrazu. Zaujímavým prepínačom je \texttt{–show-pep8}, ktorý k~danej chybe vypíše na štandardný výstup aj text z~definície PEP 8, ktorý daná časť kódu porušuje.
    Utilita Pep8.py je nástroj, ktorý výrazne dopomáha k~prehľadnosti a ucelenosti kódu. Chýbajú mu však možnosti detekovania chýb v~kóde~\cite{pep8}.

\subsection{PyChecker}

	PyChecker je program zachytávajúci problémy, na ktoré upozorňuje u~nedynamických jazykov, ako je napríklad C kompilátor v~podobe varovaní a chýb. Medzi problémy, ktoré tento program zachytí, patrí napríklad zlý počet parametrov predaný funkcii, metóde či konštruktoru, používanie neexistujúcich metód a tried, ako aj použitie premennej pred jej inicializáciou. Detekuje taktiež nepoužité inštancie globálnych či lokálnych premenných, kontroluje definíciu \texttt{self} ako prvej premennej u~metód tried, ako aj úroveň dokumentácie pre triedy, moduly a metódy~\cite{pychecker}. 
	
	Jednou z~predností je aj priamy import do zdrojového kódu. Pokiaľ má užívateľ prístup a práva k~modifikácii zdrojového kódu, je veľmi jednoduché PyChecker naimportovať priamo. Jeho hlavnou nevýhodou je, že daný kód spustí a vykoná. PyChecker je teda nevhodný na detekciu chýb v~aplikáciách, ktoré napríklad pracujú nad databázou, alebo pracujú v~ostrom prostredí, ktoré je nevhodné na testovanie.

\subsection{Pylint}
	Pylint je jeden z~najpoužívanejších, ľahko konfigurovateľných nástrojov na analýzu kódu Python, využívaný či už manuálne alebo automaticky. Je vyvíjaný za podpory Logilab.org a vydaný pod licenciou GNU GPL~\cite{gnugpl}. V~zdrojových kódoch analyzuje potencionálne chyby a varovania, ale aj porušenie konvencií podľa štandardu PEP 8. S~projektom Pylint je dodávaný aj program Pyreverse, ktorý pre daný kód vygeneruje UML diagram v~podobe \textit{dot}~\cite{dotformat} formátu. Daný \textit{dot} súbor dokáže priamo pretransformovať do \textit{PNG} alebo iného formátu. Výhodou programu Pylint oproti PyChecker je, že daný súbor nespúšta, ale analyzuje staticky. Je teda vhodný do každého prostredia. Pylint dopĺňa PyChecker hlavne v~kontrole dĺžky riadkov a kontrole názvov premenných za pomoci regulárnych výrazov. Overuje taktiež implementáciu deklarovaných rozhraní a detekuje duplicitný kód.
    Obzvlášť zaujímavou vlastnosťou je generovanie metrík a externých závislostí~\cite{pylint}.

	Správanie sa programu je možné upraviť pomocou prepínačou špecifikovaných na príkazovom riadku alebo pomocou konfiguračného súboru. V~konfiguračnom súbore je možná filtrácia varovaní a chýb rôznych druhov, ignorovanie rôznych typov súborov. Taktiež je možné načítať rôzne typy doplnkov, nastavenie minima riadkov kontrolovaných pri zisťovaní duplicity, obmedzenie veľkosti modulu, nastavanie znakov využitých na odsadenie, definície vlastných zastaralých modulov.
    
    Najmä u~vačších projektov s~požiadavkami na prehľadnosť kódu a dobrý návrh užívateľ ocení možnosť nakonfigurovať maximálny počet atribútov triedy pomocou prepínača \textit{max-attributes}, rodičov triedy pomocou prepínača \textit{max-parents}. Počet výrazov \textit{return} a \textit{yield} je možné obmedziť s využitím prepínača \textit{max-returns}. U~niektorých existuje možnosť špecifikovať aj minimálny počet, napríklad u~počtu verejných metód triedy pomocou prepínačov \textit{min-public-methods} alebo \textit{max-public-methods}~\cite{pylintfeatures}.
    
\subsection{Zhrnutie}
Pylint patrí medzi najpoužívanejší program na analýzu kódu Python, nakoľko je ľahko konfigurovateľný a kombinuje funkcionalitu ostatných nástrojov. Do každého prostredia je vhodné vybrať nástroj na analýzu vždy unikátne. Aj keď Pylint môžeme nazvať najpoužívanejším nástrojom, projekty ako Moap, Savon alebo Flumotion využívajú pre testovanie PyChecker.
    
    Program PEP8 má taktiež široké použitie, no len s~obmedzením na porušenie konvenčných chýb, ktoré  sú v~niektorých prípadoch akceptovateľné, hlavne za účelom sprehľadnenia kódu alebo z~historických dôvodov projektu.
    	
	
	\section{Nástroje na vizualizáciu Python projektu}
	
	Nástroje na vizualizáciu nám slúžia na vygenerovanie UML diagramov ale aj na zobrazenie dodatočných informácií o projekte, akými sú napríklad metriky alebo chyby v kóde. V tejto kapitole si predstavíme dostupné nástroje na vizualizáciu Python kódu.
	
	\subsection{Pyreverse}
		Pyreverse je program dodávaný spoločne s utilitou Pylint, jeho úlohou je vygenerovať UML diagramy pre Python projekt. Vykonáva synaktickú analýzu Python balíkov a vygeneruje UML diagram vo formátoch dot alebo vgc. Pyreverse je za pomoci programu dot schopný vygenerovať aj UML diagram vo formáte PNG.
		
		Medzi hlavné výhody programu Pyreverse patrí jeho rýchlosť a široká ponuka prepínačov, ktoré umožňujú ignorovať moduly a súbory, filtrovať typy atribútov alebo ovládať výzor výsledného UML diagramu.		
		Zaujímavou vlastnosťou je vygenerovanie diagramu tried súvisiacich s jednou konkrétnou triedou. Túto vlastnosť umožnuje prepínač --class=<class>
		
		Nevýhodou programu Pyreverse je jeho neinteraktívnosť. Pri editácií projektu musíme daný graf pregenerovať. Navyše nemôžeme pomocou programu Pyreverse editovať projekt.		
		
\begin{lstlisting}[language=bash]	
$ pyreverse -o png --ignore=gaphas .
\end{lstlisting}

%$
 
 
	\subsection{Pylint-gui}
	
	Pylint-gui je program, ktorý bol vytvorený najmä pre užívateľov operačného systému Windows ako alternatíva k spúštaniu Pylint pomocou príkazového riadka. Rozhranie programu je veľmi jednoduché a jedná sa len o prevedenie konzolového výstupu do grafického rozhrania. Pylint-gui teda neodstránil základné nedostatky programu Pylint. Pri editácií projektu treba výstup znova pregenerovať, nakoľko chyby sú identifikované číslom riadku, ktorý sa pri editácií môže zmeniť.
	
	\subsection{Implementácia programu Pylint v IDE}
 
	Program Pylint bol implementovaný do väčšiny IDE prostredí, ktoré ho graficky aj dynamicky interpretujú. Táto implementácia je často len v podobe doplnkov a modulov bez priamej podpory vývojárov IDE. Ďalšou z nevýhod je velká robustnosť IDE prostredí a obmedzenosť na dané vývojové prostredie. 
	
	Jedným z príkladov týchto doplnkov je modul PyDev pre vývojové prostredie Eclipse. Jeho výhodou je jeho automatické spustenie po zmene súboru, ktoré však ale pri väčších projektoch môže spôsobiť spomalenie. Výhodou je aj možnosť prefiltrovať typ chyby, ktorú Pylint zaznamená, obmedzuje sa ale len na nasledujúcich päť skupín, nie však na konkrétne správy.

\begin{list}{•}{}
\item FATAL
\item ERRORS
\item WARNINGS
\item CONVENTIONS
\item REFACTOR
\end{list}
Nepodporuje taktiež filtráciu falošných poplachov ani generáciu UML.
	
	\subsection{Zhrnutie}
	
	Existuje množstvo utilít a programov, ktoré pomáhajú výsledky analýzy Python kódu vizualizovať. Okrem vyššie uvedených môžme spomenúť aj PyCAna, Pymetrics alebo Pypants. Medzi základné problémy ktoré tieto programy majú patrí ich neinteraktívnosť, nutnosť výsledky pregenerovať po editácií kódu, robustnosť alebo chýbajúca funkcionalita. Pri implementácií projektu sa pokúsim zamerať práve na tieto chýbajúce vlastnosti. Výsledný program by mal byť rýchly a neobmedzovať programátora na jeden druh editoru ako je to napríklad pri doplnkoch IDE.
	
    
\chapter{Analýza nástrojov potrebných k implementácií}

	\section{Analýza nástroja Gaphas}

	\subsection{Základná charakteristika nástroja Gaphas}

		Gaphas predstavuje zoskupenie knižníc a nástrojov na vykresľovanie grafických objektov na určené elementy grafického rozhrania GTK. Je naprogramovaný v jazyku Python a vydaný pod ??? licenciou.

	\subsection{Popis Gaphas API}

Gaphas API využíva MVC návrhový vzor a môzme ho teda rozdeliť na 3 hlavné časti - model, view a controller.

\begin{list}{•}{}

\item Model - Je časť API, ktorá obsahuje 

    \begin{list}{•}{}
    	\item api/canvas - plátno na vykresľovanie, ktoré sa správa ako kontajner pre vykresľované položky. Canvas v sebe zahŕňa atribúty, ktoré súvisia s vykresľovaním napríklad atribút gaphas.Solver alebo atribút \_\_connections uchovávajúci spájania medzi jednotlivými položkami.
    	\item api/items - položky gaphas.item.Element a gaphas.item.Line odvodené od triedy gaphas.item.Item ktoré sú uchovávané a vykresľované na plátne.
    	Jednoduchým odvodením novej triedy z gaphas.item.Item môžeme vytvoriť vlastný prvok na vykresľovanie.
    	\item api/connectors - v tejto kategórií sa jedná o triedy gaphas.connector.Handle a gaphas.connector.Port, ktoré umožnujú spájať jednotlivé položky na plátne.
    	\item api/solver - umožnuje definovať podmienku medzi aspoň dvomi premennými a a udržovať túto podmienku ako pravdivú pri zmene premenných.
 		\item api/constraint - obmedzenia pre premenné, ktoré sú zaregistrované na plátne. Každé obmedzenie obsahuje zoznam premenných, ktoré sú zaregistrované v objekte typu gaphas.solver.Solver. 
 		\item api/utils - obsahuje pomocné funkcie týkajúce sa najmä vykresľovania textu na plátno
    \end{list}


\item View - Obsahuje všetko súvisiace so zobrazovaním a vykresľovaním jednotlivých elementov. 
    \begin{list}{•}{}
    \item api/view - trieda, ktorej úlohou je spravovať vykresľovanie gaphas položiek, uchováva vykresľovacie plátno, informácie o označených objektoch, objektoch nad ktorými sa nachádza myš.
    \item api/painters - vykresľovače, ktoré vykresľujú jednotlivé objekty
    \item api/gtkview - trieda implementujúca funkcionalitu gaphas.view.View v Gtk.DrawingArea, slúži teda na vykreslenie plátna na Gtk prvok. Používa nástroje z časti controller, a vykresľovače z časti view.
    \end{list}


\item Controller - Časť API slúžiaca na interakciu s plátnom a objektami
    \begin{list}{•}{}
		\item api/tools - Nástroje poskytujú pohľadu interaktívnosť tým že spracovávajú udalosti ktoré sú ním posielané. Gaphas API poskytuje HoverTool slúžiaci k označeniu položky, ktorá sa nachádza pod myšou, ItemTool poskytuje výber a premiestňovanie položiek, HandleTool výber a pohyb s objektami typu gaphas.connector.Handle. Okrem nich ponúka aj nástroje ako PanTool pre pohyb plátna alebo PlacementTool pre umiestnenie nových položiek na plátno. Nástroje môžu byť nakombinované a zreťazené do jedného nástroja kombinujúceho ich vlastnosti s použitím triedy ToolChain. Nástroje sú implementované pomocou událostí. Nástroj môže událosť obslúžiť alebo ignorovať. Je teda jednoduchá možnosť v prípade potreby naimplementovať vlastný nástroj.
		\item api/aspects - Definujú funkcionalitu na rozmedzí položiek a nástrojov. Vysporiadajú sa teda s pohybom položiek alebo ich označením.
    \end{list}


\end{list}



	\subsection{Zhrnutie}

		Gaphas knižnica umožnuje vykresľovanie grafiky na plátno v prostredí GTK. Jej výhodou je možnosť prispôsobiť vykresľované objekty priamo na mieru. Výborne spracovaná je aj interakcia medzi objektami. Vďaka constraints môžeme dva objekty udržovať v definovanej pozící, napríklad na jednej čiare, v jednom bode alebo na pozícií definovanou rovnicou.
    
    
\section{Analýza nástroja Pylint}

	\subsection{Pylint}
		Kľúčová trieda v štruktúre programu Pylint je trieda pylint.lint.Pylinter, ktorá spravuje nastavenia, doplnky, aktiváciu a deaktiváciu správ na úrovni modulov. Uchováva taktiež informácie o počte tried, metód a iné jednoduché štatistiky. Táto trieda je spúšťaná hlavnou triedou Run pri spustení programu. Spravuje taktiež checkers, ktoré analyzujú kód a reporter - triedu zopovednú za výstup. 
		
		V nasledujúcom odseku si podrobne opíšeme najdôležitejšie prvky programu Pylint.
		
    \begin{list}{•}{}
		\item Checkers 
		
		Ide o triedy, ktoré implementujú aspoň jednu z tried
		
			    \begin{list}{•}{}
					\item IRawChecker
					\item IASTNGChecker
    			\end{list}		
		
		Tieto triedy sú zaregistrované v triede pylint.lint.Pylinter pomocou jej metódy register\_checker.	Po zaregistrovaní sa prevedie hlavná práca v metóde pylint.lint.Pylinter.check, kde sa rozdelia zaregistrované triedy podľa ich predkov a začne sa prehľadávanie a kontrola modulov. V triedach checker sa zavolá metóda process\_module, ktorej implementácia je ponechaná na každej triede samostatne.
		
		Každá takáto trieda má v zaregistrovaný slovník chybových správ ktorý dokáže detekovať. Ako kľúč je použitý kód chyby a ako hodnota dvojica obsahujúca textovú reprezentáciu chyby a popis jej odvôvodnenie.

\begin{lstlisting}

MSGS = {
    'W0511': ('%s',
              'Used when a warning note as FIXME or XXX is detected.'),
    }
		
\end{lstlisting}		

Slovník chybových hlášok triedy EncodingChecker.


Pri náleze chyby checker zaregistruje chybu pomocou metódy add\_message zdedenej z triedy pylint.checkers.BaseChecker, ktorá chybu predá instancii triedy pylint.lint.Pylinter.

\begin{lstlisting}
    def add_message(self, msg_id, line=None, node=None, args=None):
        """add a message of a given type"""
        self.linter.add_message(msg_id, line, node, args)
\end{lstlisting}

		
		\item Reporters
    \end{list}
		
	\subsection{Pyreverse}
	
	
	   
    
    
    
\chapter{Projekt gpylint}
	\section{Aplikácia jednotlivých nástrojov}
	\section{Vyhodnotenie}	

\chapter{Záver}
\end{document}
